---
layout: post
title: "Version Control System - GIT (3)"
comments: true
categories: Git
---

git branch # currently im in master

bash-3.2$ vim f1.txt
bash-3.2$ git add f1.txt
bash-3.2$ git commit f1.txt -m "m1_m1"

bash-3.2$ git log
commit f3078bc5bfb22c57fc21e99fef42aab62cd9e533 (HEAD -> master)
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:41:08 2020 +0900

    m1_m1

bash-3.2$ vim f2.txt
bash-3.2$ cat f1.txt
1_1
bash-3.2$ cat f2.txt
2_1

bash-3.2$ git branch exp
bash-3.2$ git branch
  exp
* master
bash-3.2$ git checkout exp
Switched to branch 'exp'
bash-3.2$ git branch
* exp
  master

bash-3.2$ git log
commit f3078bc5bfb22c57fc21e99fef42aab62cd9e533 (HEAD -> exp, master)
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:41:08 2020 +0900

    m1_m1
bash-3.2$ git status
On branch exp
Untracked files:
  (use "git add <file>..." to include in what will be committed)
	f2.txt

nothing added to commit but untracked files present (use "git add" to track)
bash-3.2$ git add f2.txt
bash-3.2$ ls
f1.txt	f2.txt
bash-3.2$ git commit f2.txt -m "m2_m1"

bash-3.2$ ls
f1.txt	f2.txt
bash-3.2$ git log
commit 9cdf397d2232f15430fb55706361c9137f7cabf1 (HEAD -> exp)
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:54:03 2020 +0900

    m2_m1

commit f3078bc5bfb22c57fc21e99fef42aab62cd9e533 (master)
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:41:08 2020 +0900

    m1_m1


bash-3.2$ git checkout master
Switched to branch 'master'
bash-3.2$ git log
commit f3078bc5bfb22c57fc21e99fef42aab62cd9e533 (HEAD -> master)
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:41:08 2020 +0900

    m1_m1
bash-3.2$ ls
f1.txt


bash-3.2$ vim f3.txt
bash-3.2$ git add f3.txt
bash-3.2$ git commit f3.txt -m "m3_m1"

bash-3.2$ git log
commit 55e3dc9d497f6eb427616b97fad03e3f97211c48 (HEAD -> master)
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:55:34 2020 +0900

    m3_m1

commit f3078bc5bfb22c57fc21e99fef42aab62cd9e533
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:41:08 2020 +0900

    m1_m1

bash-3.2$ git log --branches --decorate --graph
* commit 55e3dc9d497f6eb427616b97fad03e3f97211c48 (HEAD -> master)
| Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
| Date:   Sun Apr 19 12:55:34 2020 +0900
| 
|     m3_m1
|   
| * commit 9cdf397d2232f15430fb55706361c9137f7cabf1 (exp)
|/  Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
|   Date:   Sun Apr 19 12:54:03 2020 +0900
|   
|       m2_m1
| 
* commit f3078bc5bfb22c57fc21e99fef42aab62cd9e533
  Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
  Date:   Sun Apr 19 12:41:08 2020 +0900
  
      m1_m1


bash-3.2$ git log --branches --decorate --graph --oneline
* 55e3dc9 (HEAD -> master) m3_m1
| * 9cdf397 (exp) m2_m1
|/  
* f3078bc m1_m1


bash-3.2$ vim f1.txt
bash-3.2$ git add f1.txt
bash-3.2$ git commit f1.txt -m "m1_m2"


bash-3.2$ git log --branches --decorate --graph
* commit f06a235545d6ed1036b16414553f503ca4f1e788 (HEAD -> master)
| Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
| Date:   Sun Apr 19 12:57:54 2020 +0900
| 
|     m1_m2
| 
* commit 55e3dc9d497f6eb427616b97fad03e3f97211c48
| Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
| Date:   Sun Apr 19 12:55:34 2020 +0900
| 
|     m3_m1
|   
| * commit 9cdf397d2232f15430fb55706361c9137f7cabf1 (exp)
|/  Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
|   Date:   Sun Apr 19 12:54:03 2020 +0900
|   
|       m2_m1
| 
* commit f3078bc5bfb22c57fc21e99fef42aab62cd9e533
  Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
  Date:   Sun Apr 19 12:41:08 2020 +0900
  
      m1_m1


bash-3.2$ git log -p master..exp
commit 9cdf397d2232f15430fb55706361c9137f7cabf1 (exp)
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:54:03 2020 +0900

    m2_m1

diff --git a/f2.txt b/f2.txt
new file mode 100644
index 0000000..11b43c2
--- /dev/null
+++ b/f2.txt
@@ -0,0 +1 @@
+2_1
bash-3.2$ git diff master..exp
diff --git a/f1.txt b/f1.txt
index 5c99658..94a0d26 100644
--- a/f1.txt
+++ b/f1.txt
@@ -1 +1 @@
-1_2
+1_1
diff --git a/f2.txt b/f2.txt
new file mode 100644
index 0000000..11b43c2
--- /dev/null
+++ b/f2.txt
@@ -0,0 +1 @@
+2_1
diff --git a/f3.txt b/f3.txt
deleted file mode 100644
index 4a3eba9..0000000
--- a/f3.txt
+++ /dev/null
@@ -1 +0,0 @@
-3_1

### exp의 작업을 master로 병합하기

bash-3.2$ git log --branches --decorate --graph --oneline
* f06a235 (HEAD -> master) m1_m2
* 55e3dc9 m3_m1
| * 9cdf397 (exp) m2_m1
|/  
* f3078bc m1_m1
bash-3.2$ git branch
  exp
* master
bash-3.2$ git merge exp
Merge made by the 'recursive' strategy.
 f2.txt | 1 +
 1 file changed, 1 insertion(+)
 create mode 100644 f2.txt
bash-3.2$ git log --branches --decorate --graph --oneline
*   b25ef14 (HEAD -> master) Merge branch 'exp'
|\  
| * 9cdf397 (exp) m2_m1
* | f06a235 m1_m2
* | 55e3dc9 m3_m1
|/  
* f3078bc m1_m1
bash-3.2$ ls
f1.txt	f2.txt	f3.txt

### 현재 exp는 * | f06a235 m1_m2, * | 55e3dc9 m3_m1를 가지고 있지 않다. 일단 확인
bash-3.2$ git checkout exp
Switched to branch 'exp'
bash-3.2$ ls
f1.txt	f2.txt
bash-3.2$ cat f1.txt
1_1
bash-3.2$ cat f2.txt
2_1
bash-3.2$ git log
commit 9cdf397d2232f15430fb55706361c9137f7cabf1 (HEAD -> exp)
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:54:03 2020 +0900

    m2_m1

commit f3078bc5bfb22c57fc21e99fef42aab62cd9e533
Author: Young Jin Lee <youngjinlee@Youngs-MacBook-Air.local>
Date:   Sun Apr 19 12:41:08 2020 +0900

    m1_m1

### master를 exp로 가져오기

bash-3.2$ git merge master
Updating 9cdf397..b25ef14
Fast-forward
 f1.txt | 2 +-
 f3.txt | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)
 create mode 100644 f3.txt
bash-3.2$ git log --branches --decorate --graph --oneline
*   b25ef14 (HEAD -> exp, master) Merge branch 'exp'
|\  
| * 9cdf397 m2_m1
* | f06a235 m1_m2
* | 55e3dc9 m3_m1
|/  
* f3078bc m1_m1
bash-3.2$ ls
f1.txt	f2.txt	f3.txt
bash-3.2$ cat f1.txt
1_2
bash-3.2$ cat f2.txt
2_1
bash-3.2$ cat f3.txt
3_1

### exp branch 삭제하기

bash-3.2$ git checkout master
Switched to branch 'master'
bash-3.2$ git branch -d exp
Deleted branch exp (was b25ef14).
bash-3.2$ git branch
* master
bash-3.2$ git log --branches --decorate --graph --oneline
*   b25ef14 (HEAD -> master) Merge branch 'exp'
|\  
| * 9cdf397 m2_m1
* | f06a235 m1_m2
* | 55e3dc9 m3_m1
|/  
* f3078bc m1_m1


### stash. 작업중이라 커밋하기는 애매한 상황에서 다른 브랜치로 넘어갔다와야할때 현상태 저장해놓기

bash-3.2$ git init
Initialized empty Git repository in /Users/youngjinlee/Desktop/dev/gittest2/.git/
bash-3.2$ ls
bash-3.2$ vim f1.txt
bash-3.2$ git add f1.txt
bash-3.2$ git commit -m 1
[master (root-commit) b07d435] 1
 1 file changed, 1 insertion(+)
 create mode 100644 f1.txt
bash-3.2$ git checkout -b exp
Switched to a new branch 'exp'
bash-3.2$ vim f1.txt
bash-3.2$ git checkout master
M	f1.txt
Switched to branch 'master'
bash-3.2$ git status
On branch master
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

no changes added to commit (use "git add" and/or "git commit -a")
bash-3.2$ git checkout exp
M	f1.txt
Switched to branch 'exp'
bash-3.2$ git status
On branch exp
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

no changes added to commit (use "git add" and/or "git commit -a")
bash-3.2$ git stash save
Saved working directory and index state WIP on exp: b07d435 1
bash-3.2$ git status
On branch exp
nothing to commit, working tree clean
bash-3.2$ cat f1.txt
a
bash-3.2$ git checkout master
Switched to branch 'master'
bash-3.2$ git checkout exp
Switched to branch 'exp'
bash-3.2$ git stash apply
On branch exp
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

no changes added to commit (use "git add" and/or "git commit -a")
bash-3.2$ git stash list
stash@{0}: WIP on exp: b07d435 1
bash-3.2$ git reset --hard HEAD
HEAD is now at b07d435 1
bash-3.2$ git status
On branch exp
nothing to commit, working tree clean
bash-3.2$ git stash list
stash@{0}: WIP on exp: b07d435 1
bash-3.2$ git stash apply
On branch exp
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

no changes added to commit (use "git add" and/or "git commit -a")
bash-3.2$ git reset --hard
HEAD is now at b07d435 1
bash-3.2$ git stash apply
On branch exp
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

no changes added to commit (use "git add" and/or "git commit -a")
bash-3.2$ git reset --hard
HEAD is now at b07d435 1
bash-3.2$ vim f2.txt
bash-3.2$ git add f2.txt
bash-3.2$ git stash save
Saved working directory and index state WIP on exp: b07d435 1
bash-3.2$ git status
On branch exp
nothing to commit, working tree clean
bash-3.2$ git stash list
stash@{0}: WIP on exp: b07d435 1
stash@{1}: WIP on exp: b07d435 1
bash-3.2$ git stash apply 
On branch exp
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	new file:   f2.txt

bash-3.2$ git stash drop
Dropped refs/stash@{0} (f4425af0136d33ae595e1134c4e505b4eaf1a755)
bash-3.2$ git stash list
stash@{0}: WIP on exp: b07d435 1
bash-3.2$ git stash apply
On branch exp
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	new file:   f2.txt

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

bash-3.2$ git stash drop
Dropped refs/stash@{0} (cbd8d18ab4a3cfa5c0caa6d9f0b4318e8365768f)
bash-3.2$ git stash list
bash-3.2$ git status
On branch exp
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	new file:   f2.txt

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

bash-3.2$ git statust
git: 'statust' is not a git command. See 'git --help'.

The most similar command is
	status
bash-3.2$ git status
On branch exp
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	new file:   f2.txt

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

bash-3.2$ git reset --hard
HEAD is now at b07d435 1
bash-3.2$ git status
On branch exp
nothing to commit, working tree clean
bash-3.2$ vim f1.txt
bash-3.2$ git add f1.txt
bash-3.2$ git stash
Saved working directory and index state WIP on exp: b07d435 1
bash-3.2$ git status
On branch exp
nothing to commit, working tree clean
bash-3.2$ git stash pop
On branch exp
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

no changes added to commit (use "git add" and/or "git commit -a")
Dropped refs/stash@{0} (2079c1a606dfb9059b934cee98bf61002905fd6d)
bash-3.2$ git stash list
bash-3.2$ git reset --hard
HEAD is now at b07d435 1
bash-3.2$ vim f1.txt
bash-3.2$ vim f2.txt
bash-3.2$ git status
On branch exp
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   f1.txt

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	f2.txt

no changes added to commit (use "git add" and/or "git commit -a")
bash-3.2$ git stash
Saved working directory and index state WIP on exp: b07d435 1
bash-3.2$ git status
On branch exp
Untracked files:
  (use "git add <file>..." to include in what will be committed)
	f2.txt

nothing added to commit but untracked files present (use "git add" to track)
bash-3.2$ 






reset 으로 돌아가기



git reflog



git branch exp # exp copies the contents of the master brance
git checkout exp # checkout from master and check into exp

ls -al
git log # exp has the same stuff as the master branch

git log --branches --decorate --graph --oneline

branch를 위한 GUI 툴: stree

git log master..exp # master에는 없고 exp에는 있는 것을 보여줌

소스코드까지 차이를 보고싶으면

git log -p master..exp 

git diff master..exp 



## merge

